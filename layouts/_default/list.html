{{ define "main" }}

<div class="container-fluid">

  <!-- Section Title -->
  <div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
      <h1 class="display-6 mb-3">{{ .Title }}</h1>

      {{ if .Content }}
        <div class="text-muted fs-5">
          {{ .Content }}
        </div>
      {{ end }}
    </div>
  </div>

  <!-- Child Sections (Folders) -->
  {{ $sections := .Sections.ByWeight }}
  {{ if gt (len $sections) 0 }}
    <h4 class="mb-3">Sub-Sections</h4>

    <div class="row g-4 mb-4">
      {{ range $sections }}
        <div class="col-md-6 col-lg-4">
          <a href="{{ .RelPermalink }}" class="text-decoration-none">
            <div class="card folder-card h-100 shadow-sm border-0">
              <div class="card-body d-flex">
                <i class="bi bi-folder-fill text-warning fs-2 me-3"></i>
                <div>
                  <h5 class="card-title mb-1">{{ .Title }}</h5>
                  {{ if .Summary }}
                    <p class="text-muted small mb-0">{{ .Summary }}</p>
                  {{ end }}
                </div>
              </div>
            </div>
          </a>
        </div>
      {{ end }}
    </div>
  {{ end }}

  <!-- Child Pages (Articles) -->
  {{ $pages := where (.Pages.ByWeight) "File.BaseFileName" "ne" "_index" }}
  {{ if gt (len $pages) 0 }}
    <h4 class="mb-3">Articles</h4>

    <div class="row g-4">
      {{ range $pages }}
        <div class="col-md-6 col-lg-4">
          <a href="{{ .RelPermalink }}" class="text-decoration-none">
            <div class="card article-card h-100 shadow-sm border-0">
              <div class="card-body d-flex">
                <i class="bi bi-file-earmark-text-fill text-primary fs-2 me-3"></i>
                <div>
                  <h5 class="card-title mb-1">{{ .Title }}</h5>

                  {{ if .Summary }}
                    <p class="text-muted small mb-0">{{ .Summary }}</p>
                  {{ else }}
                    <p class="text-muted small mb-0">Click to read moreâ€¦</p>
                  {{ end }}
                </div>
              </div>
            </div>
          </a>
        </div>
      {{ end }}
    </div>
  {{ end }}

</div>

{{ end }}
