<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Knowwvana Learn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet">

  
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  
  <link rel="stylesheet" href="/knowwvana.learn/css/knowvaana.css">
  <link rel="stylesheet" href="/knowwvana.learn/css/sidebar.css">

  
  <script src="/knowwvana.learn/js/sidebars.js" defer></script>
</head>

<body class="bg-light">

  
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container-fluid">

      
      <a class="navbar-brand d-flex align-items-center gap-2" href="/">
        <img src="/knowwvana.learn/img/KnowwvanaLogo_1.png"
             alt="Knowvaana Logo"
             style="height: 32px; width: auto;" class="me-2">
        <span class="fw-bold">Knowvaana</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarMain">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/knowwvana.learn/docs/">Docs</a>
          </li>
        </ul>

        <span class="navbar-text small text-secondary d-none d-md-inline">
          A living wiki of knowledge &amp; experiments
        </span>
      </div>
    </div>
  </nav>


  
  <div class="layout-root d-flex">
    
    <aside id="kvSidebar" class="kv-sidebar">
      <div class="kv-sidebar-header">
  <span class="kv-sidebar-title">Docs</span>

  
  <button id="kvSidebarToggle"
          class="kv-sidebar-toggle"
          type="button"
          aria-label="Toggle sidebar">
    <i class="bi bi-list"></i>
  </button>
</div>

<div class="kv-sidebar-body">
  <ul class="list-unstyled mb-0"><li class="text-muted small">No docs yet.</li></ul>
</div>

    </aside>

    
    <main class="flex-grow-1 px-4">
       
  <section class="hero-section d-flex align-items-center py-5 mb-4">
  <div class="container text-center text-white">
    <div class="row justify-content-center">
      <div class="col-lg-8">

        <h1 class="display-4 fw-bold mb-3">
          Welcome to <span class="text-info">Knowvaana</span>
        </h1>

        <p class="lead mb-4">
          Knowledge base for IAM, Identity Governance, Architecture Guides, and Deep-Dive Articles.
        </p>

        
        <div class="input-group input-group-lg shadow-lg hero-search">
          <input id="hero-search"
                 type="text"
                 class="form-control"
                 placeholder="Search IAM topics, articles, or keywords...">
          <button class="btn btn-primary px-4">
            <i class="bi bi-search"></i> Search
          </button>
        </div>

      </div>
    </div>
  </div>
</section>

      <div class="card shadow-sm mb-2">
        <div class="card-body">
          
  <article>
    <header class="mb-3">
      <h1 class="h2"></h1>
      <p class="text-muted small mb-0">
        Last updated: 01 Jan 0001
      </p>
    </header>
    <div class="content">
      <h1 id="sailpoint-identityiq-84--docker-dev-environment-devdays-2025">SailPoint IdentityIQ 8.4 – Docker Dev Environment (DevDays 2025)</h1>
<p>This guide explains, <strong>step by step</strong>, how to set up a <strong>local SailPoint IdentityIQ 8.4 development environment</strong> using:</p>
<ul>
<li>SailPoint Developer Days Docker reference:
<ul>
<li>“Leveraging SailPoint IdentityIQ and Docker for seamless development” (Dev Days session)</li>
</ul>
</li>
<li>GitHub repo:
<ul>
<li><code>iiq-docker-developer-days-2025</code> (Yannick Beot – SailPoint)</li>
</ul>
</li>
<li>Official IdentityIQ 8.4 distribution from SailPoint Compass</li>
</ul>
<p>The goal is that <strong>anyone</strong> can follow this and get IdentityIQ running locally on Docker Desktop from scratch.</p>
<blockquote>
<p>⚠️ <strong>Important:</strong><br>
This setup is intended for <strong>local development / training only</strong>, not for production.<br>
In production, IdentityIQ is typically deployed on dedicated app servers (Tomcat/Jetty) with an external DB and HA architecture.</p>
</blockquote>
<hr>
<h2 id="1-prerequisites">1. Prerequisites</h2>
<p>Before you start, you must have:</p>
<h3 id="11-software-on-your-machine">1.1. Software on your machine</h3>
<ul>
<li><strong>Windows 10/11</strong> with:
<ul>
<li><strong>WSL2</strong> enabled</li>
<li><strong>Virtualization</strong> turned on in BIOS</li>
</ul>
</li>
<li><strong>Docker Desktop</strong> (WSL2 backend)</li>
<li><strong>Visual Studio Code</strong> (optional but highly recommended)</li>
<li><strong>Git</strong> (for cloning the repo)</li>
<li><strong>SailPoint IdentityIQ 8.4 installer ZIP</strong>
<ul>
<li>Downloaded from SailPoint Compass (official product download page)</li>
<li>You must have a valid SailPoint subscription / license to access this</li>
</ul>
</li>
</ul>
<p><strong>Why this matters</strong></p>
<ul>
<li>Docker Desktop uses WSL2 to run Linux containers; IdentityIQ runs in a Linux-based Tomcat container, and MySQL runs in another container.</li>
<li>The official IdentityIQ 8.4 installer contains:
<ul>
<li><code>identityiq.war</code> – the web application</li>
<li><code>database/</code> – SQL scripts to create the IdentityIQ schema</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2-get-the-devdays-docker-project">2. Get the DevDays Docker Project</h2>
<h3 id="21-clone-or-download-the-github-repository">2.1. Clone or download the GitHub repository</h3>
<p>Create a working folder, e.g.:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>C:\work\iiq-docker\
</span></span></code></pre></div><p>Then either:</p>
<p><strong>Option A: Clone via Git</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd C:<span style="color:#ae81ff">\w</span>ork<span style="color:#ae81ff">\i</span>iq-docker
</span></span><span style="display:flex;"><span>git clone https://github.com/yannick-beot-sp/iiq-docker-developer-days-2025.git
</span></span></code></pre></div><p><strong>Option B: Download ZIP via GitHub UI</strong></p>
<ul>
<li>Navigate to the DevDays repo in your browser.</li>
<li>Click <strong>Code → Download ZIP</strong>.</li>
<li>Extract the ZIP into <code>C:\work\iiq-docker\iiq-docker-developer-days-2025</code>.</li>
</ul>
<h3 id="22-repo-structure-simplified">2.2. Repo structure (simplified)</h3>
<p>You should now have something like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>iiq-docker-developer-days-2025
</span></span><span style="display:flex;"><span>├─ configuration/
</span></span><span style="display:flex;"><span>├─ ldap/
</span></span><span style="display:flex;"><span>├─ scripts/
</span></span><span style="display:flex;"><span>├─ volumes/
</span></span><span style="display:flex;"><span>├─ Dockerfile.simple
</span></span><span style="display:flex;"><span>├─ Dockerfile.mysql-simple
</span></span><span style="display:flex;"><span>├─ docker-compose.simple.yml
</span></span><span style="display:flex;"><span>├─ docker-compose.simple-all.yml
</span></span><span style="display:flex;"><span>├─ .env.sample
</span></span><span style="display:flex;"><span>└─ ...
</span></span></code></pre></div><p><strong>What these are for</strong></p>
<ul>
<li><code>Dockerfile.simple</code> – builds the <strong>IdentityIQ application image</strong> (Tomcat + identityiq.war).</li>
<li><code>Dockerfile.mysql-simple</code> – builds the <strong>MySQL database image</strong> (MySQL + IdentityIQ DB scripts).</li>
<li><code>docker-compose.simple.yml</code> – minimal stack: <strong>IIQ + MySQL</strong>.</li>
<li><code>docker-compose.simple-all.yml</code> – extended stack: <strong>IIQ + MySQL + LDAP + MailDev + LDAP Admin</strong>, etc.</li>
<li><code>volumes/</code> – Docker bind mounts for persistence (e.g., MySQL data).</li>
</ul>
<p>For a <strong>simple, focused setup</strong>, we’ll use:</p>
<ul>
<li><code>Dockerfile.mysql-simple</code></li>
<li><code>Dockerfile.simple</code></li>
<li><code>docker-compose.simple.yml</code></li>
</ul>
<hr>
<h2 id="3-add-identityiq-84-binaries-to-the-project">3. Add IdentityIQ 8.4 Binaries to the Project</h2>
<p>The DevDays repo does <strong>not</strong> ship IdentityIQ binaries. You must supply them.</p>
<h3 id="31-create-the-identityiq-84-folder">3.1. Create the <code>identityiq-8.4</code> folder</h3>
<p>Inside the repo folder:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>iiq-docker-developer-days-2025
</span></span><span style="display:flex;"><span>└─ identityiq-8.4
</span></span></code></pre></div><h3 id="32-unzip-the-official-identityiq-distribution">3.2. Unzip the official IdentityIQ distribution</h3>
<p>From the Compass download, unzip the official IdentityIQ 8.4 ZIP into <code>identityiq-8.4</code> so that you have at least:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>identityiq-8.4
</span></span><span style="display:flex;"><span>├─ database/
</span></span><span style="display:flex;"><span>│  ├─ create_identityiq_tables-8.4.sql
</span></span><span style="display:flex;"><span>│  ├─ create_identityiq_plugins_db.sql
</span></span><span style="display:flex;"><span>│  ├─ zzz_create_identityiq_ah_db.sql
</span></span><span style="display:flex;"><span>│  └─ ...
</span></span><span style="display:flex;"><span>└─ identityiq.war
</span></span></code></pre></div><p><strong>Why this matters</strong></p>
<ul>
<li><code>identityiq.war</code> is used by <strong>Dockerfile.simple</strong> to build the IIQ app image.</li>
<li><code>database/</code> SQL scripts are used by <strong>Dockerfile.mysql-simple</strong> to build the DB image that initializes MySQL with the IdentityIQ schema.</li>
</ul>
<hr>
<h2 id="4-configure-environment-variables-env">4. Configure Environment Variables (<code>.env</code>)</h2>
<p>The compose files and Dockerfiles rely on environment variables from a <code>.env</code> file.</p>
<h3 id="41-create-env-from-envsample">4.1. Create <code>.env</code> from <code>.env.sample</code></h3>
<p>From the repo root:</p>
<ol>
<li>Copy <code>.env.sample</code> → <code>.env</code></li>
<li>Open <code>.env</code> in VS Code.</li>
</ol>
<p>Example minimal content:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#a6e22e">MYSQL_ROOT_PASSWORD</span><span style="color:#f92672">=</span><span style="color:#e6db74">YourStrongRootPassword123!</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">IIQ_VERSION</span><span style="color:#f92672">=</span><span style="color:#e6db74">8.4</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">LDAP_ADMIN_PASSWORD</span><span style="color:#f92672">=</span><span style="color:#e6db74">SomeStrongLdapPassword!   # Used only if you use the ALL stack</span>
</span></span></code></pre></div><p><strong>What each variable means</strong></p>
<ul>
<li>
<p><code>MYSQL_ROOT_PASSWORD</code><br>
Root password for MySQL container. Used by the MySQL initialization to create the schema and allow access as root.</p>
</li>
<li>
<p><code>IIQ_VERSION</code><br>
Used to construct the MySQL data volume path, e.g. <code>./volumes/mysql-8.4</code>. Helps separate data for different IIQ versions.</p>
</li>
<li>
<p><code>LDAP_ADMIN_PASSWORD</code><br>
Used by OpenLDAP (only relevant for <code>docker-compose.simple-all.yml</code>).</p>
</li>
</ul>
<blockquote>
<p>✅ <strong>Important:</strong> <code>.env</code> must be in the <strong>same folder</strong> as the compose file and must have <strong>no extra extension</strong> (<code>.env</code>, not <code>.env.txt</code>).</p>
</blockquote>
<hr>
<h2 id="5-understanding-the-simple-stack-docker-composesimpleyml">5. Understanding the Simple Stack (<code>docker-compose.simple.yml</code>)</h2>
<p>The key services in <code>docker-compose.simple.yml</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">iiq</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">iiq:latest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;8080:8080&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">depends_on</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">mysql</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">app-network</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">mysql</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">mysql-iiq:latest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;3306:3306&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>: --<span style="color:#ae81ff">mysql-native-password=ON</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MYSQL_ROOT_PASSWORD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./volumes/mysql-${IIQ_VERSION}:/var/lib/mysql</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">app-network</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">app-network</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">driver</span>: <span style="color:#ae81ff">bridge</span>
</span></span></code></pre></div><p><strong>Meaning of each part</strong></p>
<ul>
<li>
<p><code>iiq</code> service:</p>
<ul>
<li>Uses <code>iiq:latest</code> image (built from <code>Dockerfile.simple</code>).</li>
<li>Exposes port <code>8080</code> → you access IIQ at <code>http://localhost:8080/identityiq</code>.</li>
<li><code>depends_on: mysql</code> ensures MySQL container is started before IIQ.</li>
</ul>
</li>
<li>
<p><code>mysql</code> service:</p>
<ul>
<li>Uses <code>mysql-iiq:latest</code> image (built from <code>Dockerfile.mysql-simple</code>).</li>
<li>Exposes MySQL on port <code>3306</code> for local tools (e.g. MySQL Workbench / phpMyAdmin).</li>
<li><code>command: --mysql-native-password=ON</code> ensures MySQL uses native password plugin, compatible with IdentityIQ settings.</li>
<li><code>environment: - MYSQL_ROOT_PASSWORD</code> reads the root password from <code>.env</code>.</li>
<li><code>volumes: ./volumes/mysql-${IIQ_VERSION}:/var/lib/mysql</code> persists the MySQL data on your local filesystem.</li>
</ul>
</li>
<li>
<p><code>app-network</code>:</p>
<ul>
<li>A Docker bridge network that allows containers (<code>iiq</code> and <code>mysql</code>) to talk to each other by service name.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="6-optional-but-recommended-add-phpmyadmin-for-db-gui">6. (Optional But Recommended) Add phpMyAdmin for DB GUI</h2>
<p>For development, a MySQL GUI helps inspect schema and troubleshoot problems. You can add <strong>phpMyAdmin</strong> to <code>docker-compose.simple.yml</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>  <span style="color:#f92672">phpmyadmin</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">phpmyadmin/phpmyadmin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">unless-stopped</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;8081:80&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">PMA_HOST</span>: <span style="color:#ae81ff">mysql</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">PMA_PORT</span>: <span style="color:#ae81ff">3306</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">depends_on</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">mysql</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">app-network</span>
</span></span></code></pre></div><p><strong>Meaning</strong></p>
<ul>
<li><code>phpmyadmin</code> connects to the <code>mysql</code> service internally via Docker network.</li>
<li>Exposes a web GUI at <code>http://localhost:8081</code>.</li>
<li>Uses <code>PMA_HOST=mysql</code> so it connects to the MySQL container using its service name.</li>
</ul>
<hr>
<h2 id="7-build-the-mysql-image-mysql-iiqlatest">7. Build the MySQL Image (<code>mysql-iiq:latest</code>)</h2>
<h3 id="71-build-the-custom-mysql-image">7.1. Build the custom MySQL image</h3>
<p>From the repo root:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker build -t mysql-iiq:latest -f Dockerfile.mysql-simple .
</span></span></code></pre></div><p><strong>What <code>Dockerfile.mysql-simple</code> does (conceptually)</strong></p>
<ul>
<li>Starts from a <code>mysql:8.x</code> base image.</li>
<li>Copies the IdentityIQ DB scripts from <code>identityiq-8.4/database</code> into <code>/docker-entrypoint-initdb.d</code>.</li>
<li>On first container startup, MySQL automatically:
<ul>
<li>Initializes its base data (system tables).</li>
<li>Runs all <code>.sql</code> files inside <code>/docker-entrypoint-initdb.d</code>.</li>
<li>This creates:
<ul>
<li><code>identityiq</code> schema (main IIQ DB)</li>
<li><code>identityiq_ah</code> schema (Audit History DB)</li>
<li>All required tables, indexes, constraints, etc.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Why this step is important</strong></p>
<p>Instead of manually running <code>create_identityiq_tables-8.4.sql</code> etc. on a standalone DB, this Docker image automates the <strong>official installation guide’s DB initialization steps</strong>.</p>
<hr>
<h2 id="8-start-mysql-and-phpmyadmin-alone-first">8. Start MySQL (and phpMyAdmin) Alone First</h2>
<p>Before starting IIQ, it’s a good practice to verify MySQL is healthy and the schema is created.</p>
<h3 id="81-start-only-mysql-and-optional-phpmyadmin">8.1. Start only <code>mysql</code> (and optional <code>phpmyadmin</code>)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose -f docker-compose.simple.yml up mysql phpmyadmin
</span></span></code></pre></div><h3 id="82-access-phpmyadmin-optional">8.2. Access phpMyAdmin (optional)</h3>
<ul>
<li>Open: <code>http://localhost:8081</code></li>
<li>Server: <code>mysql</code></li>
<li>User: <code>root</code></li>
<li>Password: the value from <code>.env</code> (<code>MYSQL_ROOT_PASSWORD</code>)</li>
</ul>
<p>You should see databases such as:</p>
<ul>
<li><code>identityiq</code></li>
<li><code>identityiq_ah</code></li>
<li><code>mysql</code></li>
<li><code>performance_schema</code></li>
<li><code>sys</code></li>
</ul>
<p>And tables like <code>spt_identity</code>, <code>spt_task</code>, etc. (they will be empty initially).</p>
<blockquote>
<p>✅ At this stage, the <strong>schema exists but there are no identities yet</strong>.<br>
This is expected — the initial admin (<code>spadmin</code>) is <strong>created by IdentityIQ application at first startup</strong>, not by DB scripts.</p>
</blockquote>
<hr>
<h2 id="9-build-the-identityiq-application-image-iiqlatest">9. Build the IdentityIQ Application Image (<code>iiq:latest</code>)</h2>
<h3 id="91-build-the-iiq-image">9.1. Build the <code>iiq</code> image</h3>
<p>From repo root:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker build -t iiq:latest -f Dockerfile.simple .
</span></span></code></pre></div><p><strong>What <code>Dockerfile.simple</code> does (conceptually)</strong></p>
<ul>
<li>Uses a Tomcat base image (e.g., <code>tomcat:9-jdk</code>).</li>
<li>Copies <code>identityiq-8.4/identityiq.war</code> into the Tomcat webapps folder.</li>
<li>Copies <code>configuration/</code> and any custom config/overrides.</li>
<li>The result is an image that, when started, deploys IdentityIQ at <code>/identityiq</code> in Tomcat.</li>
</ul>
<hr>
<h2 id="10-start-the-full-simple-stack-iiq--mysql--phpmyadmin">10. Start the Full Simple Stack (IIQ + MySQL + phpMyAdmin)</h2>
<p>Once both images (<code>mysql-iiq:latest</code> and <code>iiq:latest</code>) are built:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose -f docker-compose.simple.yml up
</span></span></code></pre></div><p>This will:</p>
<ul>
<li>Start <strong>MySQL</strong> (using the initialized DB from the volume).</li>
<li>Start <strong>phpMyAdmin</strong> (if configured).</li>
<li>Start <strong>IdentityIQ</strong> (IIQ) on Tomcat.</li>
</ul>
<p>Watch the logs for the <code>iiq</code> container:</p>
<ul>
<li>
<p>Deployment of <code>/usr/local/tomcat/webapps/identityiq</code></p>
</li>
<li>
<p>Server startup messages like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Deploying web application directory [/usr/local/tomcat/webapps/identityiq]
</span></span><span style="display:flex;"><span>Deployment of web application directory [...] has finished
</span></span><span style="display:flex;"><span>Server startup in [XXXXX] milliseconds
</span></span></code></pre></div></li>
</ul>
<p>Once you see <strong>“Server startup in … ms”</strong> for Tomcat, IdentityIQ should be ready.</p>
<hr>
<h2 id="11-access-identityiq-and-initial-login">11. Access IdentityIQ and Initial Login</h2>
<h3 id="111-open-identityiq-in-the-browser">11.1. Open IdentityIQ in the browser</h3>
<p>Navigate to:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>http://localhost:8080/identityiq
</span></span></code></pre></div><p>You should see the SailPoint IdentityIQ login page.</p>
<h3 id="112-default-bootstrap-admin">11.2. Default bootstrap admin</h3>
<p>On a fresh install (using default configuration), the initial admin user is created by IdentityIQ’s bootstrap on first startup, based on the <code>init.xml</code> configuration.</p>
<p>Common default:</p>
<ul>
<li><strong>Username:</strong> <code>spadmin</code></li>
<li><strong>Password:</strong> <code>admin</code></li>
</ul>
<blockquote>
<p>These are <strong>not</strong> in the SQL scripts. They are defined in <code>init.xml</code> (in the IIQ web app) and written to the DB on first startup.</p>
</blockquote>
<hr>
<h2 id="12-verify-bootstrap-data-in-the-database">12. Verify Bootstrap Data in the Database</h2>
<p>Once you have logged in to IdentityIQ:</p>
<ol>
<li>
<p>Open phpMyAdmin (<code>http://localhost:8081</code>).</p>
</li>
<li>
<p>Select the <code>identityiq</code> database.</p>
</li>
<li>
<p>Run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> name, displayName <span style="color:#66d9ef">FROM</span> spt_identity;
</span></span></code></pre></div></li>
</ol>
<p>You should now see at least:</p>
<ul>
<li><code>spadmin | System Administrator</code></li>
</ul>
<p>Additionally, other tables such as <code>spt_application</code>, <code>spt_task</code>, <code>spt_bundle</code> will have initial entries created by the bootstrap process.</p>
<p>This confirms that:</p>
<ul>
<li>The application is correctly connected to the database.</li>
<li>IdentityIQ bootstrap has completed successfully.</li>
<li>The environment is ready for development and configuration.</li>
</ul>
<hr>
<h2 id="13-where-key-files-live-inside-the-containers">13. Where Key Files Live (Inside the Containers)</h2>
<h3 id="131-identityiq-app-files-iiq-container">13.1. IdentityIQ app files (IIQ container)</h3>
<p>Attach a shell to the <code>iiq</code> container (via VS Code Docker extension or CLI):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker exec -it &lt;iiq-container-name&gt; /bin/bash
</span></span></code></pre></div><p>Important paths:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>/usr/local/tomcat/webapps/identityiq
</span></span><span style="display:flex;"><span>└─ WEB-INF/
</span></span><span style="display:flex;"><span>   ├─ config/
</span></span><span style="display:flex;"><span>   │  ├─ sailpoint/
</span></span><span style="display:flex;"><span>   │  │  ├─ init.xml
</span></span><span style="display:flex;"><span>   │  │  ├─ iiq.properties
</span></span><span style="display:flex;"><span>   │  │  └─ ...
</span></span><span style="display:flex;"><span>   │  ├─ workflow/
</span></span><span style="display:flex;"><span>   │  └─ ...
</span></span><span style="display:flex;"><span>   └─ lib/
</span></span></code></pre></div><ul>
<li><code>init.xml</code> – Bootstrap configuration (initial admin identity, etc.).</li>
<li><code>iiq.properties</code> – IdentityIQ configuration (DB, logging, etc.).</li>
</ul>
<blockquote>
<p>By default in this Docker setup, IIQ config files are <strong>not</strong> mounted as a volume – they live inside the container.<br>
This is fine for local dev. For advanced dev, you can mount them to a local folder.</p>
</blockquote>
<h3 id="132-database-data-files-mysql-container">13.2. Database data files (MySQL container)</h3>
<p>In the MySQL container:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/var/lib/mysql
</span></span></code></pre></div><p>On your host (Windows):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>iiq-docker-developer-days-2025/volumes/mysql-8.4/
</span></span></code></pre></div><p>This is where MySQL persists all databases and tables.</p>
<hr>
<h2 id="14-notes-on-production-vs-this-dev-setup">14. Notes on Production vs. This Dev Setup</h2>
<ul>
<li>
<p>In <strong>production</strong>, IdentityIQ is usually deployed:</p>
<ul>
<li>On multiple app servers (Tomcat) behind a load balancer.</li>
<li>Using an external, managed database (Oracle, MS SQL, or MySQL).</li>
<li>Application servers are stateless; all persistence is in the DB.</li>
</ul>
</li>
<li>
<p>In this <strong>DevDays Docker setup</strong>:</p>
<ul>
<li>IdentityIQ runs in a single Tomcat container (<code>iiq</code>).</li>
<li>MySQL runs in a single container (<code>mysql</code>).</li>
<li>MySQL data is persisted via a host-mounted volume.</li>
<li>Application files (WAR, config) live inside the container and can be rebuilt from the repo + IdentityIQ installer.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="15-troubleshooting-tips">15. Troubleshooting Tips</h2>
<h3 id="151-phpmyadmin-connection-refused">15.1. phpMyAdmin “Connection refused”</h3>
<ul>
<li>
<p>Ensure MySQL container is running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps
</span></span></code></pre></div></li>
<li>
<p>If phpMyAdmin started before MySQL finished initializing, restart it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker restart &lt;phpmyadmin-container-name&gt;
</span></span></code></pre></div></li>
<li>
<p>Ensure <code>PMA_HOST=mysql</code> and <code>MYSQL_ROOT_PASSWORD</code> are set correctly.</p>
</li>
</ul>
<h3 id="152-identityiq-cannot-connect-to-database">15.2. IdentityIQ cannot connect to database</h3>
<ul>
<li>Check <code>docker-compose.simple.yml</code> DB connection settings.</li>
<li>Confirm <code>MYSQL_ROOT_PASSWORD</code> in <code>.env</code> matches the DB configuration in <code>iiq.properties</code> (if customized).</li>
<li>Verify MySQL is listening on port 3306 and that the <code>identityiq</code> schema exists.</li>
</ul>
<h3 id="153-identityiq-starts-but-login-fails">15.3. IdentityIQ starts but login fails</h3>
<ul>
<li>Check the <code>spt_identity</code> table for the admin user (<code>spadmin</code>).</li>
<li>Confirm password hash or reset it if necessary (advanced).</li>
<li>Inspect the <code>iiq</code> container logs for authentication or Spring-related errors.</li>
</ul>
<hr>
<h2 id="16-summary">16. Summary</h2>
<p>In this guide we:</p>
<ol>
<li>Installed prerequisites (Docker Desktop with WSL2, VS Code, Git).</li>
<li>Cloned the <strong>DevDays</strong> Docker repo.</li>
<li>Added official IdentityIQ 8.4 binaries (<code>identityiq.war</code> + <code>database/</code>) into <code>identityiq-8.4/</code>.</li>
<li>Created a <code>.env</code> file with DB and version settings.</li>
<li>Built a custom <strong>MySQL image</strong> (<code>mysql-iiq:latest</code>) that auto-initializes the IdentityIQ schema.</li>
<li>(Optionally) added <strong>phpMyAdmin</strong> for DB management.</li>
<li>Built the <strong>IdentityIQ app image</strong> (<code>iiq:latest</code>).</li>
<li>Brought up the stack via <code>docker-compose.simple.yml</code>.</li>
<li>Logged into IdentityIQ at <code>http://localhost:8080/identityiq</code> using the bootstrap admin.</li>
<li>Verified database content (tables + initial identities) via phpMyAdmin.</li>
</ol>
<p>With these steps, you now have a <strong>repeatable, documented process</strong> to bring up a full IdentityIQ 8.4 development environment on Docker using the SailPoint DevDays reference.</p>
<hr>

    </div>
  </article>

        </div>
      </div>

      <footer class="text-center text-muted small py-3">
        &copy; 2025 Knowvaana • Powered by Hugo &amp; Bootstrap
      </footer>
    </main>

  </div>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
